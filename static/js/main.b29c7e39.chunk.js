(this["webpackJsonppytorch-ci-hud"]=this["webpackJsonppytorch-ci-hud"]||[]).push([[0],{119:function(e,t,n){},120:function(e,t,n){},228:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n(20),c=n.n(a),s=(n(119),n(120),n(121),n(2)),i=n(11),o=n.n(i),u=n(16),l=n(6),h=n(7),d=n(10),p=n(9),b=n(31),j=n.n(b),f=new(function(){function e(){Object(l.a)(this,e)}return Object(h.a)(e,[{key:"url",value:function(e){return"https://ci.pytorch.org/jenkins/"+e+"/api/json"}},{key:"link",value:function(e){return"https://ci.pytorch.org/jenkins/"+e}},{key:"get",value:function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),e.next=3,j.a.get(t,{params:n}).then((function(e){r=e})).catch((function(e){}));case 3:if("undefined"===typeof r){e.next=7;break}return e.abrupt("return",r.data);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"batch_get",value:function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),a=t.map((function(e){return j.a.get(e,{params:n}).then((function(e){return{response:e}}),(function(e){return{err:e}}))})),e.next=4,j.a.all(a).then((function(e){r=e})).catch((function(e){}));case 4:if("undefined"===typeof r){e.next=8;break}return e.abrupt("return",r.map((function(e){return e.response?e.response.data:null})));case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"computer",value:function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get(this.url("computer"),t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get(this.url("queue"),t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"job",value:function(){var e=Object(u.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get(this.url("job/"+t),n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}()),m=n(1);function x(e){var t=e.currentTime-e.updateTime>e.interval?"disconnected":Object(m.jsxs)(r.Fragment,{children:["connected in ",e.connectedIn,"ms"]}),n=e.updateTime-new Date(0)===0?Object(m.jsx)(r.Fragment,{children:"pending"}):Object(m.jsxs)(r.Fragment,{children:["as of ",e.updateTime.toLocaleTimeString(),"; ",t]});return Object(m.jsxs)("span",{className:t,children:["(",n,")"]})}function _(e){return e.replace(/^pytorch-/,"").replace(/-trigger$/,"").replace(/^private\//,"").replace(/^ccache-cleanup-/,"").replace(/_ci\/circleci: /,"").replace(/AAA_/,"")}function v(e){var t=new Date(e);return(new Date).toLocaleDateString()===t.toLocaleDateString()?t.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}):t.toLocaleString("en-US",{month:"short",day:"numeric",weekday:"short"})}function g(e){var t=new Date(e),n=new Date;return function(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60);e=e-3600*t-60*n;var r="";return 0!==t&&(r=t+":"),0===n&&""===r||(r+=(n=n<10&&""!==r?"0"+n:String(n))+":"),""===r?r=e+"s":r+=e<10?"0"+e:String(e),r}(Math.floor((n-t)/1e3))}function O(e){var t;return null!==(t=RegExp("^https://ci\\.pytorch\\.org/jenkins/job/([^/]+)/job/([^/]+)/").exec(e))?t[1].replace(/-builds$/,"")+"/"+_(t[2]):null!==(t=RegExp("https://ci\\.pytorch\\.org/jenkins/job/([^/]+)/").exec(e))?t[1]:e}var y={"linux-cpu":17,"linux-bigcpu":68,"linux-gpu":228,"linux-tc-gpu":228,"linux-multigpu":456,"linux-cpu-ccache":17,"win-cpu":34,"win-gpu":114,osx:13900/30/24,master:17,packet:40,rocm:0,"tc-gpu":114};function w(e){return void 0===e?"?":(e/100).toLocaleString("en-US",{style:"currency",currency:"USD"})}var k=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state={computer:[],currentTime:new Date,updateTime:new Date(0),connectedIn:0},r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.update(),this.interval=setInterval(this.update.bind(this),this.props.interval)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"update",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,this.setState({currentTime:t}),e.next=4,f.computer({tree:"computer[\n                offline,\n                idle,\n                displayName,\n                assignedLabels[name],\n                executors[\n                  currentExecutable[\n                    timestamp,\n                    estimatedDuration,\n                    url,\n                    building\n                  ],\n                  idle\n                ]\n              ]".replace(/\s+/g,"")});case 4:(n=e.sent).updateTime=new Date,n.connectedIn=n.updateTime-t,this.setState(n);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=new Map;this.state.computer.forEach((function(t){var n=function(e){var t=e.displayName;return/^c5.xlarge-i-.*$/.test(t)?"linux-cpu":/^c5.4xlarge-i-.*$/.test(t)?"linux-bigcpu":/^g3.8xlarge-i-.*$/.test(t)?e.assignedLabels.some((function(e){return"tc_gpu"===e.name}))?"linux-tc-gpu":"linux-gpu":/^g3.16xlarge-i-.*$/.test(t)?"linux-multigpu":/^worker-c5-xlarge-.*$/.test(t)?"linux-cpu-ccache":/^worker-macos-high-sierra-.*$/.test(t)?"osx":/^worker-win-c5.2xlarge-i-.*$/.test(t)?"win-cpu":/^worker-win-g3.4xlarge-i-.*$/.test(t)?"win-gpu":/^worker-osuosl-ppc64le-cpu-.*$/.test(t)?"ppc":/^worker-packet-type-1-.*$/.test(t)?"packet":/^jenkins-worker-rocm-.*$/.test(t)?"rocm":/^worker-g3-4xlarge-.*$/.test(t)?"tc-gpu":t}(t),r=e.get(n);void 0===r&&(r={busy:0,total:0}),t.offline||(r.total++,t.idle||r.busy++),e.set(n,r)}));var t=0;e.forEach((function(e,n){var r=y[n];void 0!==r&&(e.totalCost=r*e.total,t+=e.totalCost)}));var n=Object(s.a)(e.entries()).sort().map((function(e){var t=w(e[1].totalCost);return Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:e[0]}),Object(m.jsxs)("td",{children:[e[1].busy," / ",e[1].total]}),Object(m.jsxs)("td",{className:"ralign",children:[t,"/hr"]})]},e[0])})),r=this.state.computer.filter((function(e){return!e.idle&&"master"!==e.displayName&&e.executors.length>0&&e.executors[0].currentExecutable}));r.sort((function(e,t){return e.executors[0].currentExecutable.timestamp-t.executors[0].currentExecutable.timestamp}));var a=r.map((function(e){var t=e.executors[0].currentExecutable;return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"left-cell",children:g(t.timestamp)}),Object(m.jsx)("td",{children:Object(m.jsx)("a",{href:t.url,children:O(t.url)})})]},e.displayName)})),c=new Map;return r.forEach((function(e){var t=e.executors[0].currentExecutable,n=O(t.url),r=c.get(n);void 0===r&&(r={total:0,cumulative_time:0},c.set(n,r)),r.total++,r.cumulative_time+=function(e){var t=new Date(e);return(new Date-t)/1e3}(t.timestamp)})),Object(m.jsxs)("div",{children:[Object(m.jsxs)("h2",{children:["Computers"," ",Object(m.jsx)(x,{interval:this.props.interval,currentTime:this.state.currentTime,updateTime:this.state.updateTime,connectedIn:this.state.connectedIn})]}),Object(m.jsx)("table",{children:Object(m.jsx)("tbody",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsxs)("table",{children:[Object(m.jsx)("tbody",{children:n}),Object(m.jsx)("tfoot",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{}),Object(m.jsxs)("td",{className:"ralign",colSpan:"2",children:[w(24*t*30),"/mo"]})]})})]})}),Object(m.jsx)("td",{className:"right-cell",children:Object(m.jsx)("table",{children:Object(m.jsx)("tbody",{children:a})})})]})})})]})}}]),n}(r.Component),S=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state={items:[],currentTime:new Date,updateTime:new Date(0),connectedIn:0},r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.update(),this.interval=setInterval(this.update.bind(this),this.props.interval)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"update",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,this.setState({currentTime:t}),e.next=4,f.queue();case 4:(n=e.sent).updateTime=new Date,n.connectedIn=n.updateTime-t,this.setState(n);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=new Map;this.state.items.forEach((function(t){var n=function(e){return e.replace(/^Waiting for next available executor on/,"Needs").replace(/docker&&cpu&&ccache/,"linux-cpu-ccache").replace(/[^ ]+cpu_ccache.+/,"linux-cpu-ccache").replace(/docker&&cpu&&!ccache/,"linux-cpu").replace(/docker&&cpu/,"linux-cpu-any").replace(/docker&&gpu/,"linux-gpu").replace(/docker&&bigcpu/,"linux-bigcpu").replace(/windows&&cpu/,"windows-cpu").replace(/windows&&gpu/,"windows-gpu").replace(/g3.8xlarge-i-[^ ]+/,"linux-gpu").replace(/g3.16xlarge-i-[^ ]+/,"linux-multigpu").replace(/worker-win-c5.2xlarge-i-[^ ]+/,"windows-cpu").replace(/worker-win-g3.4xlarge-i-[^ ]+/,"windows-gpu")}(t.why),r=e.get(n);void 0===r&&(r={total:0},e.set(n,r)),r.total++}));var t=Object(s.a)(e.entries()).sort().map((function(e){var t=e[0],n=e[1];return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{style:{textAlign:"right",paddingRight:15},children:n.total}),Object(m.jsx)("th",{children:t})]},t)})),n=new Map;this.state.items.forEach((function(e){var t=O(e.task.url),r=n.get(t);void 0===r&&(r={total:0},n.set(t,r)),r.total++}));var r=Object(s.a)(n.entries()).sort((function(e,t){return t[1].total-e[1].total})).slice(0,10).map((function(e){var t=e[0],n=e[1];return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{style:{textAlign:"right",paddingRight:15},children:n.total}),Object(m.jsx)("th",{children:t})]},t)}));return Object(m.jsxs)("div",{children:[Object(m.jsxs)("h2",{children:["Queue"," ",Object(m.jsx)(x,{interval:this.props.interval,connectedIn:this.state.connectedIn,currentTime:this.state.currentTime,updateTime:this.state.updateTime})]}),Object(m.jsx)("table",{children:Object(m.jsx)("tbody",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{width:300,style:{textOverflow:"clip",maxWidth:300,overflow:"hidden"},children:Object(m.jsx)("table",{children:Object(m.jsx)("tbody",{children:t})})}),Object(m.jsx)("td",{className:"right-cell",width:300,children:Object(m.jsx)("table",{children:Object(m.jsxs)("tbody",{children:[r,Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{}),Object(m.jsx)("th",{children:n.size>10?"...":""})]})]})})})]})})})]})}}]),n}(r.Component),N=n(22),I=n(81),T=n(82),D=n.n(T),E=n(48),F=["_","setup","caffe2-py2-cuda9.0-cudnn7-windows","caffe2-py2-devtoolset7-rocmrpm-centos7.5","py3.6-clang7-rocmdeb-ubuntu16.04","win-ws2016-cuda9-cudnn7-py3","pytorch_linux_xenial_py2_7_9","pytorch_linux_xenial_cuda9_cudnn7_py3","pytorch_linux_xenial_py3_clang5_asan","pytorch_linux_xenial_py3_6_gcc5_4","pytorch_libtorch_linux_xenial_cuda9_cudnn7_py3","caffe2_py2_mkl_ubuntu16_04","caffe2_py3_5_cuda10_1_cudnn7_ubuntu16_04","caffe2_onnx_py2_gcc5_ubuntu16_04","caffe2_onnx_main_py3_6_clang7_ubuntu16_04","caffe2_onnx_ort1_py3_6_clang7_ubuntu16_04","caffe2_onnx_ort2_py3_6_clang7_ubuntu16_04","caffe2_py2_clang7_ubuntu16_04","caffe2_cmake_cuda9_0_cudnn7_ubuntu16_04","caffe2_py3_6_devtoolset7_cuda9_0_cudnn7_centos7","binary_linux_manywheel_2_7mu_cpu_devtoolset7","binary_linux_libtorch_2_7m_cpu_devtoolset7","binary_linux_libtorch_2_7m_cpu_gcc5_4_cxx11-abi","binary_linux_libtorch_2_7_cpu","caffe2_py2_android_ubuntu16_04","caffe2_py2_system_macos10_13","pytorch_macos_10_13_py3","pytorch_macos_10_13_cuda9_2_cudnn7_py3","pytorch-linux_xenial_py3_clang5_android_ndk_r19c_x86_32_build","pytorch-linux-xenial-py3-clang5-android-ndk-r19c-gradle-build-x86_32","pytorch_ios_10_2_1_x86_64_build","pytorch_ios_10_2_1_arm64_build","pytorch_linux_backward_compatibility_check_test","pytorch_xla_linux_xenial_py3_6_clang7","pytorch_python_doc_push","pytorch_cpp_doc_push"],M=["binary_linux_manywheel_2_7mu_cpu_devtoolset7_build","binary_linux_manywheel_3_7m_cu100_devtoolset7_build","binary_linux_conda_2_7_cpu_devtoolset7_build","binary_macos_wheel_3_6_cpu_build","binary_macos_conda_2_7_cpu_build","binary_macos_libtorch_2_7_cpu_build","binary_linux_manywheel_2_7mu_cpu_devtoolset7_test","binary_linux_manywheel_3_7m_cu100_devtoolset7_test","binary_linux_conda_2_7_cpu_devtoolset7_test","binary_linux_libtorch_2_7m_cpu_devtoolset7_shared-with-deps_build","binary_linux_libtorch_2_7m_cpu_devtoolset7_shared-with-deps_test","binary_linux_libtorch_2_7m_cpu_gcc5_4_cxx11-abi_shared-with-deps_build","binary_linux_libtorch_2_7m_cpu_gcc5_4_cxx11-abi_shared-with-deps_test"];function C(e){return"SUCCESS"===e||"success"===e}function A(e){return"FAILURE"===e||"failure"===e||"error"===e||"timed_out"===e}function R(e){var t=e.jobName;return/caffe2-builds/.test(e.url)?"caffe2-"+t:t}var L=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state=r.initialState(),r}return Object(h.a)(n,[{key:"initialState",value:function(){var e=localStorage.getItem("prefs"),t={};return e&&(t=JSON.parse(e)),"showStale"in t||(t.showStale=!1),"username"in t||(t.username=""),"showNotifications"in t||(t.showNotifications=!0),{builds:[],known_jobs:[],currentTime:new Date,updateTime:new Date(0),showStale:t.showStale,username:t.username,showNotifications:t.showNotifications}}},{key:"componentDidMount",value:function(){this.update(),this.interval=setInterval(this.update.bind(this),this.props.interval),this.state.showNotifications&&"granted"!==Notification.permission&&Notification.requestPermission()}},{key:"componentDidUpdate",value:function(e){localStorage.setItem("prefs",JSON.stringify({showNotifications:this.state.showNotifications,showStale:this.state.showStale,username:this.state.username})),this.props.job!==e.job&&(this.setState(this.initialState()),this.update())}},{key:"update",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,r,a,c,i,l,h,d=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=function(e,t){var n=F.some((function(t){return _(e).startsWith(t)})),r=F.some((function(e){return _(t).startsWith(e)}));return n<r?1:n>r||e<t?-1:e>t?1:0},i=function(e){e.subBuilds.forEach((function e(t){t.build&&"com.tikal.jenkins.plugins.multijob.MultiJobBuild"===t.build._class?t.build.subBuilds.forEach(e):c.add(R(t))}))},a=function(){return(a=Object(u.a)(o.a.mark((function e(){var t,r,a,c,s,i,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=function(e,n){var a=r[n].commitId;if(e)for(var c in e){var s=e[c];t[a].hasOwnProperty(c)||(t[a][c]={duration:"0",result:s.status,url:s.build_url})}},t={},r=[],c=Object(N.a)(n.builds);try{for(c.s();!(s=c.n()).done;)for(i=s.value,u=0;u<i.changeSet.items.length;u++)l=i.changeSet.items[u].commitId,t.hasOwnProperty(l)||(t[l]={}),r.push({url:"https://s3.amazonaws.com/ossci-job-status/combined/"+l+".json",commitId:l})}catch(o){c.e(o)}finally{c.f()}return e.next=7,f.batch_get(r.map((function(e){return e.url})));case 7:return e.sent.forEach(a),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r=function(){return a.apply(this,arguments)},t=new Date,this.setState({currentTime:t}),e.next=9,f.job(this.props.job,{tree:"builds[\n                  url,\n                  number,\n                  duration,\n                  timestamp,\n                  result,\n                  actions[parameters[name,value],\n                  causes[shortDescription]],\n                  changeSet[items[commitId,comment,msg]],\n                  subBuilds[\n                    result,jobName,url,duration,\n                    build[\n                      subBuilds[\n                        result,jobName,url,duration,\n                        build[\n                          subBuilds[result,jobName,url,duration]\n                        ]\n                      ]\n                    ]\n                  ]\n               ]".replace(/\s+/g,"")});case 9:n=e.sent,e.next=16;break;case 12:return 1,e.next=15,f.job(this.props.job,{depth:1});case 15:n=e.sent;case 16:return n.updateTime=new Date,n.connectedIn=n.updateTime-t,void 0!==n.allBuilds&&(n.builds=n.allBuilds),e.next=21,r();case 21:n.github_commit_statuses=e.sent,c=new Set,"binary"!==(l=this.props.mode)&&n.builds.forEach(i),n.github_commit_statuses&&Object.keys(n.github_commit_statuses).forEach((function(e){var t=n.github_commit_statuses[e];Object.keys(t).forEach((function(e){if("binary"!==l){for(var t=0;t<M.length;t++)if(e.endsWith(M[t])){c.add("_"+e);break}e.includes("binary_")||e.includes("smoke_")||c.add("_"+e)}else if(e.includes("binary_")||e.includes("smoke_")){for(var n=!1,r=0;r<M.length;r++)if(e.endsWith(M[r])){n=!0;break}n||c.add("_"+e)}}))})),n.known_jobs=Object(s.a)(c.values()).sort(h),n.builds.forEach((function(e){var t=new Map;function r(){return(r=Object(u.a)(o.a.mark((function e(r){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.changeSet.items.length>0)for(a=function(){var e=r.changeSet.items[c].commitId;n.github_commit_statuses&&Object.keys(n.github_commit_statuses[e]).forEach((function(r){var a=n.github_commit_statuses[e][r];t.set("_"+r,{duration:a.duration,result:a.result,url:a.url})}))},c=0;c<r.changeSet.items.length;c++)a();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.subBuilds.forEach((function e(n){n.build&&"com.tikal.jenkins.plugins.multijob.MultiJobBuild"===n.build._class?n.build.subBuilds.forEach(e):t.set(R(n),n)})),function(e){r.apply(this,arguments)}(e),e.sb_map=t})),10,this.props.job.includes("master")&&function(){var e=new Set,t=new Map;n.known_jobs.forEach((function(t){"pytorch_doc_push"!==t&&"__dr.ci"!==t&&(t.includes("nightlies")||e.add(t))}));for(var r=0;r<n.builds.length&&!(r>10)&&e.size;r++){n.builds[r].sb_map.forEach((function(n,r){if(e.has(r))if(A(n.result)){var a=t.get(r)||0;a++,t.set(r,a)}else C(n.result)&&e.delete(r);else;}))}t.forEach((function(e,n){e<=1&&t.delete(n)})),n.consecutive_failure_count=t,d.state.consecutive_failure_count&&d.state.consecutive_failure_count.forEach((function(e,n){t.has(n)||new Notification("\u2705 "+d.props.job,{body:_(n)})})),t.forEach((function(e,t){d.state.consecutive_failure_count&&!d.state.consecutive_failure_count.has(t)&&new Notification("\u274c "+d.props.job,{body:_(t)})}))}(),this.setState(n);case 31:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;var t=this.state.builds,n=this.state.consecutive_failure_count,a=this.state.known_jobs,c=a.map((function(e){return Object(m.jsx)("th",{className:"rotate",children:Object(m.jsxs)("div",{className:(F.some((function(t){return _(e).startsWith(t)}))?"pr-header":"master-only-header")+" "+(n.has(e)?"failing-header":""),children:[F.some((function(t){return _(e).startsWith(t)}))?"":"\u2022 ",_(e)]})},e)})),s=I.scaleLinear().rangeRound([0,100]);s.domain([0,I.max(t,(function(e){return e.duration}))]);var i=new Set,o=t.map((function(t){var n=t.sb_map;var c=0,o=!1,u=!1,l=!1,h=a.map((function(t){var a,s,i=n.get(t),h=Object(m.jsx)(r.Fragment,{});if(void 0!==i){l=!0;var d=D()(i.duration),p="short-perf-test-gpu"===(s=R(i))?"linux-gpu":"doc-push"===s?"linux-cpu":/-win/.test(s)?/-test/.test(s)&&/-cuda/.test(s)?"win-gpu":"win-cpu":/-macos/.test(s)?"osx":/-linux/.test(s)||/-ubuntu/.test(s)||/-centos/.test(s)||/-xenial/.test(s)?/cuda/.test(s)?/-multigpu-test/.test(s)?"linux-multigpu":/-test/.test(s)?"linux-gpu":"linux-cpu":/-rocm/.test(s)?/-test/.test(s)?"rocm":"linux-bigcpu":"linux-cpu":"unknown",b=0;if("unknown"===p?o=!0:b=Math.ceil(y[p]*d/1e3/60/60),c+=b,i.result||(u=!0),"perf"===e.props.mode)h=function(e,t){return Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)("span",{className:C(t)?"ok-duration":"suspect-duration",children:D()(e.duration)/1e3}),"\xa0\xa0"]})}(i,i.result);else if("cost"===e.props.mode)h=Object(m.jsxs)(r.Fragment,{children:["unknown"===p?"?":b,"\xa0\xa0"]});else{var j=i.url;/^https?:\/\//.test(j)?j.includes("jenkins")&&(j+="/console"):j=f.link(j+"/console"),h=Object(m.jsx)("a",{href:j,className:"icon",target:"_blank",alt:R(i),children:(a=i.result,C(a)?Object(m.jsx)("span",{role:"img",style:{color:"green"},"aria-label":"passed",children:"0"}):A(a)?Object(m.jsx)("span",{role:"img",style:{color:"red"},"aria-label":"failed",children:"X"}):function(e){return"ABORTED"===e||"cancelled"===e}(a)?Object(m.jsx)("span",{role:"img",style:{color:"gray"},"aria-label":"cancelled",children:"."}):function(e){return!e||"pending"===e}(a)?Object(m.jsx)("span",{className:"animate-flicker",role:"img",style:{color:"goldenrod"},"aria-label":"in progress",children:"?"}):a)})}}return Object(m.jsx)(E.a,{overlay:t,mouseLeaveDelay:0,placement:"rightTop",destroyTooltipOnHide:!0,children:Object(m.jsx)("td",{className:"icon-cell",style:{textAlign:"right",fontFamily:"sans-serif",padding:0},children:h},t)},t)}));function d(e){var t=e.match(/\(#(\d+)\)/);return t?Object(m.jsx)(r.Fragment,{children:Object(m.jsxs)("a",{href:"https://github.com/pytorch/pytorch/pull/"+t[1],target:"_blank",children:["#",t[1]]})}):Object(m.jsx)(r.Fragment,{})}function p(e){var t=Object(m.jsx)("em",{children:"Manually triggered rebuild."});return void 0===e.actions?t:e.actions.filter((function(e){return void 0!==e.causes})).map((function(e,t){return e.causes.map((function(e,t){return Object(m.jsxs)("em",{children:[e.shortDescription,". "]},t)}))}))}var b,j,x=t.actions.some((function(e){return void 0!==e.causes&&e.causes.some((function(e){return"com.sonyericsson.rebuild.RebuildCause"===e._class}))})),_=t.actions.some((function(e){return void 0!==e.causes&&e.causes.some((function(e){return"org.jenkinsci.plugins.ghprb.GhprbCause"===e._class||"hudson.model.Cause$UpstreamCause"===e._class&&/-pull-request$/.test(e.upstreamProject)}))})),g="",O="",k=!1;if(x)O=p(t);else if(_){var S=function(e){var t=e.actions.find((function(e){return"org.jenkinsci.plugins.ghprb.GhprbParametersAction"===e._class}));return void 0===t&&(t=e.actions.find((function(e){return"com.tikal.jenkins.plugins.multijob.MultiJobParametersAction"===e._class}))),void 0===t?new Map:new Map(t.parameters.map((function(e){return[e.name,e.value]})))}(t),N=S.get("ghprbPullTitle");if(b=S.get("ghprbPullLink"),j=S.get("ghprbPullId"),g=S.get("ghprbPullAuthorLogin"),O=N,i.has(j)){if(!e.state.showStale)return Object(m.jsx)(r.Fragment,{},t.number);k=!0}if(""!==e.state.username&&e.state.username!==g)return Object(m.jsx)(r.Fragment,{},t.number);i.add(j)}else{var I=t.changeSet;g=function(e){var t=e.actions.find((function(e){return"hudson.model.CauseAction"===e._class}));if(void 0===t)return"(unknown)";var n=t.causes.find((function(e){return"com.cloudbees.jenkins.GitHubPushCause"===e._class}));if(void 0===n)return"";var r=n.shortDescription.match(/Started by GitHub push by (.+)/);return null===r?n.shortDescription:r[1]}(t),O=0===I.items.length?p(t):I.items.slice().reverse().map((function(e){return Object(m.jsxs)("div",{children:[d(e.comment)," ",(t=e.msg,t.replace(/\(#[0-9]+\)/,""))," ",Object(m.jsx)("code",{children:Object(m.jsx)("a",{href:"https://github.com/pytorch/pytorch/commit/"+e.commitId,target:"_blank",children:e.commitId.slice(0,7)})})]},e.commitId);var t}))}var T=v(t.timestamp);return l?Object(m.jsxs)("tr",{className:k?"stale":"",children:[Object(m.jsx)("th",{className:"left-cell",children:Object(m.jsx)("a",{href:t.url,target:"_blank",children:t.number})}),Object(m.jsx)("th",{className:"left-cell",children:Object(m.jsx)("a",{href:b,target:"_blank",children:j?"#"+j:""})}),Object(m.jsx)("td",{className:"left-cell",children:T}),h,Object(m.jsx)("td",{className:"right-cell bar-number",children:Math.floor(t.duration/1e3/60)}),Object(m.jsx)("td",{children:Object(m.jsx)("svg",{width:100,height:10,children:Object(m.jsx)("rect",{className:"bar",x:"0",y:"0",width:s(t.duration),height:10})})}),Object(m.jsxs)("td",{className:"right-cell",style:{textAlign:"right"},children:[u?"\u2265 ":"",w(c),o?"?":""]}),Object(m.jsx)("td",{className:"right-cell",children:g}),Object(m.jsx)("td",{className:"right-cell",children:O})]},t.number):Object(m.jsx)(r.Fragment,{})}));return Object(m.jsxs)("div",{children:[Object(m.jsxs)("h2",{children:[Object(m.jsx)("a",{href:f.link("job/"+this.props.job),target:"_blank",children:this.props.job})," ","history"," ",Object(m.jsx)(x,{interval:this.props.interval,connectedIn:this.state.connectedIn,currentTime:this.state.currentTime,updateTime:this.state.updateTime})]}),Object(m.jsx)("div",{style:{color:"#909"},children:"\u2022 Purple bulleted jobs run on master only."}),Object(m.jsx)("div",{children:Object(m.jsxs)("ul",{className:"menu",children:[Object(m.jsxs)("li",{children:[Object(m.jsx)("input",{type:"checkbox",name:"show-stale",checked:this.state.showStale,onChange:function(t){e.setState({showStale:t.target.checked})}}),Object(m.jsx)("label",{htmlFor:"show-stale",children:"Show stale builds of PRs"})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){e.setState({username:t.target.value})}}),Object(m.jsx)("label",{htmlFor:"username",style:{backgroundColor:"white",position:"relative",zIndex:3},children:"Show builds from this user only"})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("input",{type:"checkbox",name:"show-notifications",checked:this.state.showNotifications,onChange:function(t){return e.setState({showNotifications:t.target.checked})}}),Object(m.jsxs)("label",{htmlFor:"show-notifications",children:["Show notifications on master failure","denied"===Notification.permission?Object(m.jsxs)(r.Fragment,{children:[" ",Object(m.jsx)("strong",{children:"(WARNING: notifications are currently denied)"})]}):""]})]})]})}),Object(m.jsxs)("table",{className:"buildHistoryTable",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:"left-cell",children:"J#"}),Object(m.jsx)("th",{className:"left-cell",children:"PR#"}),Object(m.jsx)("th",{className:"left-cell",children:"Date"}),c,Object(m.jsx)("th",{className:"right-cell",colSpan:"2",children:"Latency (min)"}),Object(m.jsx)("th",{className:"right-cell",children:"Cost"}),Object(m.jsx)("th",{className:"right-cell",children:"User"}),Object(m.jsx)("th",{className:"right-cell",children:"Description"})]})}),Object(m.jsx)("tbody",{children:o})]})]})}}]),n}(r.Component),U=["binary_linux_manywheel_2_7mu_cpu_devtoolset7_build","binary_linux_manywheel_3_7m_cu100_devtoolset7_build","binary_linux_conda_2_7_cpu_devtoolset7_build","binary_macos_wheel_3_6_cpu_build","binary_macos_conda_2_7_cpu_build","binary_macos_libtorch_2_7_cpu_build","binary_linux_manywheel_2_7mu_cpu_devtoolset7_test","binary_linux_manywheel_3_7m_cu100_devtoolset7_test","binary_linux_conda_2_7_cpu_devtoolset7_test","binary_linux_libtorch_2_7m_cpu_devtoolset7_shared-with-deps_build","binary_linux_libtorch_2_7m_cpu_devtoolset7_shared-with-deps_test","binary_linux_libtorch_2_7m_cpu_gcc5_4_cxx11-abi_shared-with-deps","pytorch_linux_xenial_pynightly"];function J(e){return U.some((function(t){return e.includes(t)}))}function P(e){return"SUCCESS"===e||"success"===e}function B(e){return"FAILURE"===e||"failure"===e||"error"===e||"timed_out"===e}function z(e){for(var t=new Map,n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];t.set(a,e[a])}return t}var $=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state=r.initialState(),r}return Object(h.a)(n,[{key:"initialState",value:function(){var e=localStorage.getItem("prefs2"),t={};return e&&(t=JSON.parse(e)),"showNotifications"in t||(t.showNotifications=!0),"showServiceJobs"in t||(t.showServiceJobs=!0),{builds:[],known_jobs:[],currentTime:new Date,updateTime:new Date(0),showNotifications:t.showNotifications,showServiceJobs:t.showServiceJobs,jobNameFilter:""}}},{key:"componentDidMount",value:function(){this.update(),this.interval=setInterval(this.update.bind(this),this.props.interval),this.state.showNotifications&&"granted"!==Notification.permission&&Notification.requestPermission()}},{key:"componentDidUpdate",value:function(e){localStorage.setItem("prefs2",JSON.stringify({showNotifications:this.state.showNotifications,showServiceJobs:this.state.showServiceJobs})),this.props.job===e.job&&this.props.mode===e.mode||(this.setState(this.initialState()),this.update())}},{key:"update",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,r,a,c,i,l,h,d,p,b=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,n=this.props.job.replace(/^pytorch-/,""),r="master"===n?n:"pr",a="https://s3.amazonaws.com/ossci-job-status",this.setState({currentTime:t}),e.next=7,j.a.get("".concat(a,"/").concat(n,"/index.json"));case 7:return c=e.sent,i=c.data.map(function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat(a,"/").concat(r,"/").concat(t.id,".json"));case 3:n=e.sent,t.sb_map=z(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.sb_map=new Map;case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),e.next=11,j.a.all(i);case 11:(l=e.sent).reverse(),(h={}).updateTime=new Date,h.connectedIn=h.updateTime-t,d=this.props.mode,p=new Set,l.forEach((function(e){e.sb_map.forEach((function(e,t){var n=(t.includes("binary_")||t.includes("smoke_")||t.includes("nightly_")||t.includes("nigthly_"))&&!J(t);("nightly"!==d&&!n||"nightly"===d&&n)&&p.add(t)}))})),h.known_jobs=Object(s.a)(p.values()).sort(),h.builds=l,10,this.props.job.startsWith("pytorch-")&&function(){var e=new Set,t=new Map;h.known_jobs.forEach((function(t){"pytorch_doc_push"!==t&&"__dr.ci"!==t&&(t.includes("nightlies")||e.add(t))}));for(var n=0;n<h.builds.length&&!(n>10)&&e.size;n++){h.builds[n].sb_map.forEach((function(n,r){if(e.has(r))if(B(n.status)){var a=t.get(r)||0;a++,t.set(r,a)}else P(n.status)&&e.delete(r);else;}))}t.forEach((function(e,n){e<=1&&t.delete(n)})),h.consecutive_failure_count=t,b.state.consecutive_failure_count&&b.state.consecutive_failure_count.forEach((function(e,n){t.has(n)||new Notification("\u2705 "+b.props.job,{body:_(n)})})),t.forEach((function(e,t){b.state.consecutive_failure_count&&!b.state.consecutive_failure_count.has(t)&&new Notification("\u274c "+b.props.job,{body:_(t)})}))}(),this.setState(h);case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nameMatches",value:function(e,t){if(e.includes(t))return!0;try{var n=new RegExp(t);return Boolean(e.match(n))}catch(r){return!1}}},{key:"shouldShowJob",value:function(e){var t=this.state.jobNameFilter;if(t.length>0&&!this.nameMatches(e,t))return!1;if(this.state.showServiceJobs)return!0;var n=e.startsWith("ci/circleci: docker"),r=e.startsWith("ci/circleci: ecr_gc");return!(n||"welcome"===e||r)}},{key:"render",value:function(){var e=this;var t=this.state.builds,n=this.state.consecutive_failure_count,a=this.state.known_jobs.filter((function(t){return e.shouldShowJob(t)})),c=a.map((function(e){return Object(m.jsx)("th",{className:"rotate",children:Object(m.jsx)("div",{className:n.has(e)?"failing-header":"",children:_(e)})},e)})),s=t.map((function(e){var t=!1,n=e.sb_map,c=a.map((function(e){var a,c=n.get(e),s=Object(m.jsx)(r.Fragment,{});return void 0!==c&&(t=!0,s=Object(m.jsx)("a",{href:c.build_url,className:"icon",target:"_blank",alt:e,children:(a=c.status,P(a)?Object(m.jsx)("span",{role:"img",style:{color:"green"},"aria-label":"passed",children:"0"}):function(e){return"skipped"===e}(a)?Object(m.jsx)("span",{role:"img",style:{color:"gray"},"aria-label":"skipped",children:"S"}):B(a)?Object(m.jsx)("span",{role:"img",style:{color:"red"},"aria-label":"failed",children:"X"}):function(e){return"ABORTED"===e||"cancelled"===e}(a)?Object(m.jsx)("span",{role:"img",style:{color:"gray"},"aria-label":"cancelled",children:"."}):function(e){return!e||"pending"===e}(a)?Object(m.jsx)("span",{className:"animate-flicker",role:"img",style:{color:"goldenrod"},"aria-label":"in progress",children:"?"}):function(e){return"infrastructure_fail"===e}(a)?Object(m.jsx)("span",{role:"img",style:{color:"grey"},"aria-label":"failed",children:"X"}):a)})),Object(m.jsx)(E.a,{overlay:e,mouseLeaveDelay:0,placement:"rightTop",destroyTooltipOnHide:{keepParent:!1},children:Object(m.jsx)("td",{className:"icon-cell",style:{textAlign:"right",fontFamily:"sans-serif",padding:0},children:s},e)},e)}));var s,i=e.author.username?e.author.username:e.author.name,o=Object(m.jsxs)("div",{children:[(s=e.message,s.replace(/\(#[0-9]+\)/,"")).split("\n")[0]," ",Object(m.jsx)("code",{children:Object(m.jsx)("a",{href:"https://github.com/pytorch/pytorch/commit/"+e.id,target:"_blank",children:e.id.slice(0,7)})})]},e.id),u=v(e.timestamp);return t?Object(m.jsxs)("tr",{className:"",children:[Object(m.jsx)("th",{className:"left-cell",children:function(e){var t=e.match(/\(#(\d+)\)/);return t||(t=e.match(/https:\/\/github.com\/pytorch\/pytorch\/pull\/(\d+)/))?Object(m.jsx)(r.Fragment,{children:Object(m.jsxs)("a",{href:"https://github.com/pytorch/pytorch/pull/"+t[1],target:"_blank",children:["#",t[1]]})}):Object(m.jsx)(r.Fragment,{})}(e.message)}),Object(m.jsx)("td",{className:"left-cell",title:e.timestamp,children:u}),c,Object(m.jsx)("td",{className:"right-cell",children:i}),Object(m.jsx)("td",{className:"right-cell",children:o})]},e.id):Object(m.jsx)(r.Fragment,{},e.id)}));return Object(m.jsxs)("div",{children:[Object(m.jsxs)("h2",{children:[this.props.job," history"," ",Object(m.jsx)(x,{interval:this.props.interval,connectedIn:this.state.connectedIn,currentTime:this.state.currentTime,updateTime:this.state.updateTime})]}),Object(m.jsx)("div",{children:Object(m.jsxs)("ul",{className:"menu",children:[Object(m.jsxs)("li",{children:[Object(m.jsx)("input",{type:"checkbox",name:"show-notifications",checked:this.state.showNotifications,onChange:function(t){return e.setState({showNotifications:t.target.checked})}}),Object(m.jsxs)("label",{htmlFor:"show-notifications",children:["Show notifications on master failure","denied"===Notification.permission?Object(m.jsxs)(r.Fragment,{children:[" ",Object(m.jsx)("strong",{children:"(WARNING: notifications are currently denied)"})]}):""]})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("li",{children:[Object(m.jsx)("input",{type:"checkbox",name:"show-service-jobs",checked:this.state.showServiceJobs,onChange:function(t){return e.setState({showServiceJobs:t.target.checked})}}),Object(m.jsx)("label",{htmlFor:"show-service-jobs",children:"Show service jobs"})]}),Object(m.jsx)("br",{}),Object(m.jsx)("li",{children:Object(m.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=document.getElementById("job-name-filter");e.setState({jobNameFilter:n.value})},children:[Object(m.jsx)("label",{htmlFor:"job-name-filter",children:"Name filter:\xa0"}),Object(m.jsx)("input",{type:"input",name:"job-name-filter",id:"job-name-filter",value:this.jobNameFilter?this.jobNameFilter:void 0}),Object(m.jsx)("input",{style:{marginLeft:"3px"},type:"submit",value:"Go"})]})})]})}),Object(m.jsxs)("table",{className:"buildHistoryTable",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:"left-cell",children:"PR#"}),Object(m.jsx)("th",{className:"left-cell",children:"Date"}),c,Object(m.jsx)("th",{className:"right-cell",children:"User"}),Object(m.jsx)("th",{className:"right-cell",children:"Description"})]})}),Object(m.jsx)("tbody",{children:s})]})]})}}]),n}(r.Component);function q(e){for(var t=new Map,n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];t.set(a,e[a])}return t}var H=1e5;function W(e){return Math.round(e*H)/H}var G=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state=r.initialState(),r}return Object(h.a)(n,[{key:"initialState",value:function(){return{builds:[],known_jobs:[],jobNameFilter:""}}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(e){}},{key:"update",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,r,a,c,i,l,h,d,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://s3.amazonaws.com/ossci-metrics/torchbench_v0_nightly",e.next=3,j.a.get("".concat(t,"/index.json"));case 3:return n=e.sent,console.log(n.data),r=n.data.map(function(){var e=Object(u.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat(t,"/").concat(n.result.relpath));case 3:r=e.sent,n.sb_map=q(r.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.sb_map=new Map;case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),e.next=8,j.a.all(r);case 8:for(a=e.sent,c=new Set,i=a[0].sb_map.get("benchmarks"),l=new Map,i.forEach((function(e,t){c.add(e.name),l.set(e.name,t)})),console.log(c),h=function(e){a[e].sb_map.get("benchmarks").forEach((function(t){var n=t.stats.mean,r=l.get(t.name);if(0===e)t.stats.prev_mean=n;else{var c=a[e-1].sb_map.get("benchmarks")[r].stats.mean;t.stats.prev_mean=c}}))},d=0;d<a.length;d++)h(d);a.reverse(),(p={}).known_jobs=Object(s.a)(c.values()).sort(),p.benchmark_index=l,p.builds=a,this.setState(p);case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"shouldShowJob",value:function(e){var t=this.state.jobNameFilter;return!(t.length>0&&!e.includes(t))}},{key:"render",value:function(){var e=this;var t=this.state.builds,n=this.state.known_jobs.filter((function(t){return e.shouldShowJob(t)})),a=n.map((function(e){return Object(m.jsx)("th",{className:"rotate",width:"20px;",children:Object(m.jsx)("div",{children:e})},e)})),c=this.state.benchmark_index,s=t.map((function(e){var t=e.sb_map,a=e.sb_map.get("machine_info").pytorch_version,s=n.map((function(e){var n,s=t.get("benchmarks")[c.get(e)],i=a+"-"+e,o=Object(m.jsx)(r.Fragment,{}),u=(s.stats.mean-s.stats.prev_mean)/s.stats.prev_mean;return void 0!==s&&(o=function(e){return e<-.1?Object(m.jsx)("span",{role:"img",style:{color:"green"},"aria-label":"passed",children:"0"}):(t=e,t>.1?Object(m.jsx)("span",{role:"img",style:{color:"red"},"aria-label":"failed",children:"X"}):Object(m.jsx)("span",{role:"img",style:{color:"grey"},"aria-label":"passed",children:"-"}));var t}(u)),Object(m.jsx)(E.a,{overlay:e+" Mean: "+W(s.stats.mean)+", prev mean: "+W(s.stats.prev_mean)+", delta: "+(n=u,(n=Math.round(1e4*n)/100)>=0&&(n="+"+n),n+="%"),mouseLeaveDelay:0,placement:"rightTop",destroyTooltipOnHide:!0,children:Object(m.jsxs)("td",{className:"icon-cell",style:{textAlign:"right",fontFamily:"sans-serif",padding:0},children:[" ",o," "]},i)},e)}));return Object(m.jsxs)("tr",{children:[Object(m.jsxs)("th",{className:"left-cell",children:[" torch-",a," "]}),s]},a)}));return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"TorchBench v0 nightly testing result"}),Object(m.jsx)("div",{children:Object(m.jsx)("ul",{className:"menu"})}),Object(m.jsxs)("table",{className:"perfHistoryTable",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:"left-cell",children:"Build"}),a]})}),Object(m.jsx)("tbody",{children:s})]})]})}}]),n}(r.Component),X=n(12),K=n(66),V=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state={loggedin:!!localStorage.getItem("gh_pat")},r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.update()}},{key:"update",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new URL(window.location.href),n=t.searchParams.get("code")){e.next=4;break}return e.abrupt("return");case 4:return this.state.code=n,e.next=7,fetch("".concat("https://auth.pytorch.org","/authenticate/").concat(n)).then((function(e){return e.json()}));case 7:(r=e.sent).token?(localStorage.setItem("gh_pat",r.token),this.state.loggedin=!0):alert("bad code passed to GitHub OAuth, sign into GitHub again"),this.setState(this.state),(a=localStorage.getItem("last_redirect"))&&(localStorage.removeItem("last_redirect"),a!=window.location.href&&(window.location.href=a));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return localStorage.getItem("gh_pat")?Object(m.jsx)("div",{children:Object(m.jsx)("a",{href:"/github_logout",children:"Log out"})}):this.state.code?Object(m.jsx)("div",{children:Object(m.jsx)("p",{children:"Loading..."})}):Object(m.jsxs)("div",{children:[Object(m.jsx)("a",{href:"https://github.com/login/oauth/authorize?scope=public_repo&client_id=7e8b4df19d85405ac1b2",children:"Click here"})," ","to sign in to GitHub"]})}}]),n}(r.Component),Q=n(231),Y=n(232),Z=n(112);function ee(e){if(!e)return"-";if(e<1024)return e+"  B";var t=1e6;if(e<t)return(e/1024).toFixed(0)+" KB";var n=1e9;return e<n?(e/t).toFixed(2)+" MB":(e/n).toFixed(2)+" GB"}function te(e,t){var n=null;if(window.DOMParser)n=(new DOMParser).parseFromString(e,"text/xml");else{if(!window.ActiveXObject)throw new Error("cannot parse xml string!");if((n=new ActiveXObject("Microsoft.XMLDOM")).async=!1,!n.loadXML(e))throw n.parseError.reason+" "+n.parseError.srcText}function r(e,n){if("#text"!=e.nodeName){var a={},c=n[e.nodeName];if(c?Array.isArray(c)?n[e.nodeName].push(a):n[e.nodeName]=[c,a]:t&&-1!=t.indexOf(e.nodeName)?n[e.nodeName]=[a]:n[e.nodeName]=a,e.attributes){var s,i=Object(N.a)(e.attributes);try{for(i.s();!(s=i.n()).done;){var o=s.value;a[o.nodeName]=o.nodeValue}}catch(d){i.e(d)}finally{i.f()}}var u,l=Object(N.a)(e.childNodes);try{for(l.s();!(u=l.n()).done;){r(u.value,a)}}catch(d){l.e(d)}finally{l.f()}}else{var h=e.nodeValue;h.trim()&&(n["#text"]=h)}}var a,c={},s=Object(N.a)(n.childNodes);try{for(s.s();!(a=s.n()).done;){r(a.value,c)}}catch(i){s.e(i)}finally{s.f()}return c}function ne(e){return re.apply(this,arguments)}function re(){return(re=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return e()})),e.next=3,Promise.all(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Object(u.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("gh_pat"),e.next=3,fetch("https://api.github.com/graphql",{method:"POST",headers:{Authorization:"token "+n},body:JSON.stringify({query:t})});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return(ce=Object(u.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("gh_pat"),e.next=3,fetch("https://api.github.com/"+t,{headers:{Accept:"application/vnd.github.v3+json",Authorization:"token "+n}});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=Object(u.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("gh_pat"),e.next=3,fetch("https://api.github.com/"+t,{headers:{Accept:"application/vnd.github.v3+json",Authorization:"token "+n}});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie={graphql:function(e){return ae.apply(this,arguments)},json:function(e){return ce.apply(this,arguments)},raw:function(e){return se.apply(this,arguments)}};function oe(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://gha-artifacts.s3.amazonaws.com/?"+new URLSearchParams({"list-type":2,delimiter:"/",prefix:t,"max-keys":50})).then((function(e){return e.text()})).then((function(e){return te(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state={pr_number:r.props.pr_number},r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.update()}},{key:"extractItem",value:function(e,t){return e[t]?Array.isArray(e[t])?e[t]:[e[t]]:null}},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r,a,c,s,i,u,l=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(N.a)(this.state.runs),e.prev=1,r.s();case 3:if((a=r.n()).done){e.next=25;break}c=a.value,s=Object(N.a)(c.checkRuns.nodes),e.prev=6,u=function(){var e=i.value;if(!e.log.shown||null!==e.log.text)return"continue";ie.raw("repos/pytorch/pytorch/actions/jobs/".concat(e.databaseId,"/logs")).then((function(e){return e.text()})).then((function(t){e.log.text=t,l.setState(l.state)}))},s.s();case 9:if((i=s.n()).done){e.next=15;break}if("continue"!==u()){e.next=13;break}return e.abrupt("continue",13);case 13:e.next=9;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),s.e(e.t0);case 20:return e.prev=20,s.f(),e.finish(20);case 23:e.next=3;break;case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(1),r.e(e.t1);case 30:return e.prev=30,r.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[1,27,30,33],[6,17,20,23]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,r,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.setItem("last_redirect",window.location.href),localStorage.getItem("gh_pat"),localStorage.getItem("gh_pat")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,ie.graphql((c=this.state.pr_number,'\n    {\n      repository(name: "pytorch", owner: "pytorch") {\n        pullRequest(number: '.concat(c,") {\n          title\n          number\n          url\n          commits(last: 1) {\n            nodes {\n              commit {\n                checkSuites(last: 100) {\n                  nodes {\n                    databaseId\n                    workflowRun {\n                      runNumber\n                      id\n                      databaseId\n                      workflow {\n                        name\n                        databaseId\n                      }\n                      url\n                    }\n                    checkRuns(last: 100) {\n                      nodes {\n                        name\n                        title\n                        status\n                        conclusion\n                        text\n                        databaseId\n                        detailsUrl\n                        summary\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  ")));case 6:return t=e.sent,this.state.pr=t.repository.pullRequest,(n=(n=this.state.pr.commits.nodes[0].commit.checkSuites.nodes).filter((function(e){return e.workflowRun}))).forEach((function(e){e.checkRuns.nodes.forEach((function(e){e.log={text:null,shown:!1}}))})),e.next=13,ne(n.map((function(e){return Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.workflowRun.databaseId,t.next=3,ie.json("repos/pytorch/pytorch/actions/runs/".concat(n,"/artifacts"));case 3:e.artifacts=t.sent;case 4:case"end":return t.stop()}}),t)})))})));case 13:return n=n.sort((function(e,t){return e.workflowRun.workflow.name.toUpperCase()>t.workflowRun.workflow.name.toUpperCase()?1:-1})),this.state.runs=n,this.setState(this.state),r=this.state.runs.map((function(e){return e.s3_artifacts=[],Object(u.a)(o.a.mark((function t(){var n,r,c,s,i,u,l,h,d,p,b;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe("pytorch/pytorch/".concat(e.workflowRun.databaseId,"/"));case 2:if(n=t.sent,!((r=a.extractItem(n.ListBucketResult,"CommonPrefixes"))&&r.length>0)){t.next=27;break}c=Object(N.a)(r),t.prev=6,c.s();case 8:if((s=c.n()).done){t.next=19;break}return i=s.value,u=i.Prefix["#text"],t.next=13,oe(u);case 13:l=t.sent,h=a.extractItem(l.ListBucketResult,"Contents"),d=Object(N.a)(h);try{for(d.s();!(p=d.n()).done;)b=p.value,e.s3_artifacts.push(b)}catch(o){d.e(o)}finally{d.f()}case 17:t.next=8;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(6),c.e(t.t0);case 24:return t.prev=24,c.f(),t.finish(24);case 27:case"end":return t.stop()}}),t,null,[[6,21,24,27]])})))})),e.next=19,ne(r);case 19:this.setState(this.state);case 20:case"end":return e.stop()}var c}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=void 0;if(this.state.runs){t=[];var n,r=Object(N.a)(this.state.runs.entries());try{for(r.s();!(n=r.n()).done;){var a,c=function(e){return e.expired?Object(m.jsxs)("div",{children:[Object(m.jsxs)("span",{children:["[",e.kind,"] ",e.name]})," ",Object(m.jsxs)("span",{children:["(",ee(e.size_in_bytes),") (expired)"]})]},"".concat(e.kind,"-").concat(e.index)):Object(m.jsxs)("div",{children:[Object(m.jsxs)("a",{href:e.url,children:["[",e.kind,"] ",e.name]})," ",Object(m.jsxs)("span",{children:["(",ee(e.size_in_bytes),")"]})]},"".concat(e.kind,"-").concat(e.index))},s=Object(X.a)(n.value,2),i=s[0],o=s[1],u=[],l=Object(N.a)(o.checkRuns.nodes.entries());try{var h=function(){var t=Object(X.a)(a.value,2),n=t[0],r=t[1],c=function(){r.log.shown=!r.log.shown,e.setState(e.state)},s={cursor:"pointer"},i=Object(m.jsx)(Q.b,{style:s,onClick:c}),o=Object(m.jsx)("div",{});if(r.log.shown)if(i=Object(m.jsx)(Q.a,{style:s,onClick:c}),r.log.text){var l=(r.log.text.match(/\n/g)||"").length+1;o=Object(m.jsx)("div",{style:{height:"".concat(Math.min(l+4,30),"em")},children:Object(m.jsx)(Z.LazyLog,{extraLines:1,enableSearch:!0,caseInsensitive:!0,selectableLines:!0,scrollToLine:l,text:r.log.text})})}else o=Object(m.jsx)("p",{children:"fetching logs..."});var h={SUCCESS:Object(m.jsx)(Y.a,{style:{color:"#22863a"}}),FAILURE:Object(m.jsx)(Y.d,{style:{color:"#cb2431"}}),NEUTRAL:Object(m.jsx)(Y.b,{style:{color:"#959da5"}})}[r.conclusion]||Object(m.jsx)(Y.c,{style:{color:"#dbab09"}});u.push(Object(m.jsxs)("div",{children:[h," ",Object(m.jsx)("a",{href:r.detailsUrl,children:r.name})," ",i," ",o]},"check-run-"+n))};for(l.s();!(a=l.n()).done;)h()}catch(D){l.e(D)}finally{l.f()}var d=[];if(o.artifacts){var p,b=Object(N.a)(o.artifacts.artifacts.entries());try{for(b.s();!(p=b.n()).done;){var j=Object(X.a)(p.value,2),f=j[0],x=j[1],_="https://github.com/pytorch/pytorch/suites/".concat(o.databaseId,"/artifacts/").concat(x.id);d.push(c({kind:"gha",index:f,name:x.name,size_in_bytes:x.size_in_bytes,url:_,expired:x.expired}))}}catch(D){b.e(D)}finally{b.f()}}if(o.s3_artifacts){var v,g=Object(N.a)(o.s3_artifacts.entries());try{for(g.s();!(v=g.n()).done;){var O=Object(X.a)(v.value,2),y=O[0],w=O[1],k=w.Key["#text"];d.push(c({kind:"s3",index:y,name:k.split("/").slice(-1),size_in_bytes:parseInt(w.Size["#text"]),url:"https://gha-artifacts.s3.amazonaws.com/".concat(k),expired:!1}))}}catch(D){g.e(D)}finally{g.f()}}var S=Object(m.jsx)("div",{});d.length>0&&(S=Object(m.jsxs)("div",{style:{padding:"6px"},children:[Object(m.jsx)("h5",{children:"Artifacts"}),d]}));var I=Object(m.jsx)("div",{});u.length>0&&(I=Object(m.jsx)("div",{style:{padding:"6px"},children:u}));var T=Object(m.jsx)(K.a,{children:Object(m.jsxs)(K.a.Body,{children:[Object(m.jsx)(K.a.Title,{children:Object(m.jsx)("a",{href:o.workflowRun.url,children:o.workflowRun.workflow.name})}),Object(m.jsxs)("div",{children:[I,S]})]})},"card-"+i);t.push(T)}}catch(D){r.e(D)}finally{r.f()}}return Object(m.jsxs)("div",{children:[Object(m.jsx)(V,{}),Object(m.jsx)("h2",{children:Object(m.jsxs)("a",{href:"https://github.com/pytorch/pytorch/pull/"+this.state.pr_number,children:["PR #",this.state.pr_number]})}),Object(m.jsx)("p",{children:this.state.pr?this.state.pr.title:"loading (make sure you are signed in)..."}),Object(m.jsx)("div",{children:t})]})}}]),n}(r.Component),he=(n(108),n(65)),de=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state={},r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.update()}},{key:"correlateJobs",value:function(e){var t,n=["success","skipped","pending","queued"],r={},a={},c=function(e,t){r[e]=!0,r[t]=!0,a[e]||(a[e]=[]),a[e][t]||(a[e][t]=0),a[e][t]+=1},s=Object(N.a)(e);try{for(s.s();!(t=s.n()).done;){var i=t.value,o=[];for(var u in i.value){var l=i.value[u];l.status&&-1===n.indexOf(l.status)&&o.push(u)}for(var h=0,d=o;h<d.length;h++){var p,b=d[h],j=Object(N.a)(o);try{for(j.s();!(p=j.n()).done;){c(b,p.value)}}catch(k){j.e(k)}finally{j.f()}}}}catch(k){s.e(k)}finally{s.f()}var f,m=Object.keys(r).sort(),x=[],_=Object(N.a)(m);try{for(_.s();!(f=_.n()).done;){var v,g=f.value,O=[],y=Object(N.a)(m);try{for(y.s();!(v=y.n()).done;){var w=v.value;a[g]&&a[g][w]?O.push(a[g][w]):O.push(0)}}catch(k){y.e(k)}finally{y.f()}x.push(O)}}catch(k){_.e(k)}finally{_.f()}return[m,x]}},{key:"update",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://ossci-job-status.s3.amazonaws.com/master",e.t0=JSON,e.next=4,fetch("".concat(t,"/index.json"),{cache:"no-cache"}).then((function(e){return e.text()}));case 4:return e.t1=e.sent,e.t2=e.t0.parse.call(e.t0,e.t1),n={job_index:e.t2},r=n.job_index.map((function(e){return fetch("".concat(t,"/").concat(e.id,".json")).then((function(e){return e.json()}))})),e.t3=this,e.next=11,Promise.allSettled(r);case 11:e.t4=e.sent,this.state.correlations=e.t3.correlateJobs.call(e.t3,e.t4),this.setState(n);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"tooltipTemplate",value:function(e,t,n){var r=n.background,a=e.data[0].label.split(", "),c=Object(X.a)(a,2),s=c[0],i=c[1];return'\n        <div\n        style="\n    background: '.concat(r,';\n    padding: 0 5px;\n    text-align: center;\n    color: white;">\n        <div\n        class="toastui-chart-tooltip-category"\n        style="font-weight: bold; font-family: Arial, sans-serif; font-size: 13px; color: #ffffff;">\n            ').concat(s,"\n            <br />\n            ").concat(i,'\n        </div>\n        <div\n        class="toastui-chart-tooltip-series-wrapper"\n        style="font-weight: normal; font-family: Arial, sans-serif; font-size: 12px; color: #ffffff;">\n            <div class="toastui-chart-tooltip-series">\n                <span class="toastui-chart-series-name">\n                <i class="toastui-chart-icon" style="background: ').concat(e.data[0].color,'"></i>\n                <span class="toastui-chart-name">').concat(e.data[0].value,"</span>\n                </span>\n            </div>\n        </div>\n    </div>\n    ")}},{key:"componentDidUpdate",value:function(){if(this.state.correlations){var e=document.getElementById("job-correlations"),t=Object(X.a)(this.state.correlations,2),n=t[0],r=t[1];e.innerHTML="";var a={usageStatistics:!1,xAxis:{label:{formatter:function(e,t){return""}}},yAxis:{label:{formatter:function(e,t){return""}}},tooltip:{template:this.tooltipTemplate}},c={categories:{x:n,y:n},series:r};he.a.heatmapChart({el:e,data:c,options:a})}}},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"CI Job Correlations"}),Object(m.jsx)("div",{id:"job-correlations",style:{width:"550px",height:"550px"}})]})}}]),n}(r.Component),pe=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state={},r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.update()}},{key:"update",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,fetch("https://ossci-checks-status.s3.amazonaws.com/status.json",{cache:"no-cache"}).then((function(e){return e.text()}));case 3:e.t1=e.sent,e.t2=e.t0.parse.call(e.t0,e.t1),t={actions_statuses:e.t2},this.setState(t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){if(this.state.actions_statuses){for(var e={dates:[]},t=["in_progress","queued","pending"],n=0,r=t;n<r.length;n++){e[r[n]]=[]}this.state.actions_statuses.sort((function(e,t){return e.last_updated-t.last_updated}));var a,c=Object(N.a)(this.state.actions_statuses);try{for(c.s();!(a=c.n()).done;){var s=a.value;e.dates.push(new Date(1e3*s.last_updated).toLocaleString());var i,o=Object(N.a)(t);try{for(o.s();!(i=o.n()).done;){var u=i.value;e[u].push(s[u]||0)}}catch(f){o.e(f)}finally{o.f()}}}catch(f){c.e(f)}finally{c.f()}for(var l=[],h=0,d=t;h<d.length;h++){var p=d[h];l.push({name:p,data:e[p]})}var b={categories:e.dates,series:l},j=document.getElementById("chart");j.innerHTML="";he.a.lineChart({el:j,data:b,options:{}})}}},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"GitHub Actions Status"}),Object(m.jsx)("div",{id:"chart",style:{width:"600px",height:"400px"}})]})}}]),n}(r.Component),be=n(234),je=n(233),fe=n(236),me=n(237),xe=n(235),_e=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(pe,{}),Object(m.jsx)(de,{}),Object(m.jsx)(S,{interval:1e3}),Object(m.jsx)(k,{interval:1e3})]})},ve=function(){return Object(m.jsx)(V,{})},ge=function(){return localStorage.removeItem("gh_pat"),console.log("logged out"),Object(m.jsx)(xe.a,{to:"/"})},Oe=function(e){var t=e.match,n=new URLSearchParams(window.location.search);return Object(m.jsx)(L,{interval:6e4,job:t.url.replace(/^\/build\//,""),mode:n.get("mode")})},ye=function(e){var t=e.match,n=new URLSearchParams(window.location.search);return Object(m.jsx)(L,{interval:6e4,job:t.url.replace(/^\/build1\//,""),mode:n.get("mode")})},we=function(e){var t=e.match,n=new URLSearchParams(window.location.search);return Object(m.jsx)($,{interval:6e4,job:t.url.replace(/^\/build2\//,""),mode:n.get("mode")})},ke=function(e){var t=e.match;return Object(m.jsx)(le,{pr_number:parseInt(t.url.replace(/^\/pr\//,""))})},Se=function e(t){var n=t.match;return Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(me.a,{exact:!0,path:n.url,component:ke}),Object(m.jsx)(me.a,{path:"".concat(n.url,"/:segment"),component:e})]})},Ne=function e(t){var n=t.match;return Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(me.a,{exact:!0,path:n.url,component:Oe}),Object(m.jsx)(me.a,{path:"".concat(n.url,"/:segment"),component:e})]})},Ie=function e(t){var n=t.match;return Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(me.a,{exact:!0,path:n.url,component:ye}),Object(m.jsx)(me.a,{path:"".concat(n.url,"/:segment"),component:e})]})},Te=function e(t){var n=t.match;return Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(me.a,{exact:!0,path:n.url,component:we}),Object(m.jsx)(me.a,{path:"".concat(n.url,"/:segment"),component:e})]})},De=function(e){var t=e.match;return Object(m.jsx)(r.Fragment,{children:Object(m.jsx)(me.a,{exact:!0,path:t.url,component:G})})},Ee=function(){return Object(m.jsx)(be.a,{basename:"/",children:Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("header",{className:"App-header",children:Object(m.jsxs)("h1",{className:"App-title",children:[Object(m.jsx)(je.a,{to:"/",children:"hud.pytorch.org"})," (",Object(m.jsx)("a",{href:"https://github.com/pytorch/pytorch-ci-hud",children:"GitHub"}),")"]})}),Object(m.jsxs)("ul",{className:"menu",children:[Object(m.jsx)("li",{children:"New-style (warning, does NOT show Jenkins builds):"}),["pytorch"].map((function(e){return Object(m.jsx)(r.Fragment,{children:["master","nightly","release/1.9"].map((function(t){return Object(m.jsxs)("li",{children:[Object(m.jsxs)(je.a,{to:"/build2/".concat(e,"-").concat(t),children:[e,"-",t]}),"\xa0 (",Object(m.jsx)(je.a,{to:"/build2/".concat(e,"-").concat(t,"?mode=nightly"),children:"binary"}),")"]},"".concat(e,"-").concat(t))}))},e)})),["torchbench-v0-nightly","status"].map((function(e){return Object(m.jsx)("li",{children:Object(m.jsx)(je.a,{to:"/".concat(e),children:e})},"".concat(e))}))]}),Object(m.jsxs)("ul",{className:"deprecated-menu",children:[Object(m.jsx)("li",{children:"Old-style:"}),["pytorch","rocm-pytorch"].map((function(e){return Object(m.jsx)(r.Fragment,{children:["master","pull-request"].map((function(t){return Object(m.jsxs)("li",{children:[Object(m.jsxs)(je.a,{to:"/build1/"+e+"-"+t,children:[e,"-",t]}),"\xa0 (",Object(m.jsx)(je.a,{to:"/build1/"+e+"-"+t+"?mode=perf",children:"perf"}),"/",Object(m.jsx)(je.a,{to:"/build1/"+e+"-"+t+"?mode=cost",children:"cost"}),"pytorch"===e&&"master"===t?Object(m.jsxs)(r.Fragment,{children:["/",Object(m.jsx)(je.a,{to:"/build1/"+e+"-"+t+"?mode=binary",children:"binary"})]}):Object(m.jsx)(r.Fragment,{}),")"]},e+"-"+t)}))},e)})),Object(m.jsx)(r.Fragment,{children:Object(m.jsx)("li",{children:Object(m.jsx)(je.a,{to:"/build1/nightlies-uploaded",children:"nightlies-uploaded"})})},"nightlies-uploaded")]}),Object(m.jsxs)(fe.a,{children:[Object(m.jsx)(me.a,{path:"/build",component:Ne}),Object(m.jsx)(me.a,{path:"/build1",component:Ie}),Object(m.jsx)(me.a,{path:"/pr",component:Se}),Object(m.jsx)(me.a,{path:"/build2",component:Te}),Object(m.jsx)(me.a,{path:"/torchbench-v0-nightly",component:De}),Object(m.jsx)(me.a,{path:"/github_logout",component:ge}),Object(m.jsx)(me.a,{path:"/authorize_github",component:ve}),Object(m.jsx)(me.a,{path:"/status",component:_e}),Object(m.jsx)(me.a,{exact:!0,path:"/",children:Object(m.jsx)(xe.a,{to:"/build2/pytorch-master"})})]})]})})};c.a.render(Object(m.jsx)(Ee,{}),document.getElementById("root"))}},[[228,1,2]]]);
//# sourceMappingURL=main.b29c7e39.chunk.js.map